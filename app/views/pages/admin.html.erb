
<div class="container">
<h1>Dashboard Admin</h1>
<section class="kpi">
  <div class="kpi-card">
    <h3> <%= @total_visiteurs %> </h3>
    <p>Nombre de visiteurs</p>
  </div>
  <div class="kpi-card">
    <h3><%= @total_visiteurs_avec_achats %></h3>
    <p>Nombre de visiteurs qui ont achet√©</p>
  </div>
  <div class="kpi-card">
    <h3><%= @total_achats %> </h3>
    <p>Nombre de produits vendus</p>
  </div>
</section>


</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const timing = performance.timing;
    const frontEndTime = timing.domContentLoadedEventEnd - timing.responseEnd;
    const backendTime = timing.responseEnd - timing.requestStart;
    console.log("Front-End Time:", frontEndTime);
    console.log("Back-End Time:", backendTime);

    
    fetch("/performance_metrics", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        front_end_time: frontEndTime,
        backend_time: backendTime,
      })
    });
  });
</script>

<%= stylesheet_link_tag "admin", media: "all" %>